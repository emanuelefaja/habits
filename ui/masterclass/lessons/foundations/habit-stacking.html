<div class="prose dark:prose-invert max-w-none">
    <h2 class="text-3xl font-bold mb-6">Habit Stacking: Build Unbreakable Habit Chains</h2>
    
    <blockquote class="italic border-l-4 border-gray-300 pl-4 py-2 my-6">
        "One of the best ways to build a new habit is to identify a current habit you already do each day and then stack your new behavior on top."
        <cite class="block mt-2 text-sm">— James Clear</cite>
    </blockquote>
    
    <p class="lead">Habit stacking is a powerful strategy that uses the momentum of existing habits to establish new ones. By connecting new habits to established routines, you can dramatically increase your chances of success.</p>
    
    <h3 class="text-xl font-semibold mt-8 mb-4">The Science Behind Habit Stacking</h3>
    
    <p>Habit stacking works because of the way neural networks form in your brain. When you perform an existing habit, your brain activates a specific neural pathway. By attaching a new habit to that existing pathway, you make it much easier for the new behavior to become automatic.</p>
    
    <p>This strategy leverages what neuroscientists call "synaptic pruning" — the process by which your brain strengthens the connections between neurons when they fire together repeatedly. When two behaviors consistently happen in sequence, the neural pathways become linked.</p>
    
    <div class="bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg my-6">
        <h4 class="font-bold">The Habit Stacking Formula</h4>
        <p class="italic text-lg mt-2">"After/Before [CURRENT HABIT], I will [NEW HABIT]."</p>
    </div>
    
    <h3 class="text-xl font-semibold mt-8 mb-4">Why Habit Stacking Works So Well</h3>
    
    <div class="grid grid-cols-1 md:grid-cols-3 gap-6 my-6">
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
            <h4 class="font-bold mb-2">1. Clear Trigger</h4>
            <p>The existing habit serves as a reliable cue that's already integrated into your life.</p>
        </div>
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
            <h4 class="font-bold mb-2">2. Contextual Stability</h4>
            <p>Your established habit already has a time and place, giving the new habit the same contextual advantage.</p>
        </div>
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
            <h4 class="font-bold mb-2">3. Momentum</h4>
            <p>The psychological momentum from completing one habit naturally flows into the next behavior.</p>
        </div>
    </div>
    
    <h3 class="text-xl font-semibold mt-8 mb-4">Effective Habit Stacking Examples</h3>
    
    <table class="min-w-full border-collapse block md:table my-6">
        <thead>
            <tr class="border-b">
                <th class="text-left py-2">Category</th>
                <th class="text-left py-2">Current Habit (Trigger)</th>
                <th class="text-left py-2">New Habit (Response)</th>
            </tr>
        </thead>
        <tbody>
            <tr class="border-b">
                <td class="py-2">Morning Routine</td>
                <td class="py-2">After I pour my morning coffee</td>
                <td class="py-2">I will meditate for two minutes</td>
            </tr>
            <tr class="border-b">
                <td class="py-2">Work Productivity</td>
                <td class="py-2">After I sit down at my desk</td>
                <td class="py-2">I will write my three most important tasks for the day</td>
            </tr>
            <tr class="border-b">
                <td class="py-2">Physical Health</td>
                <td class="py-2">Before I shower</td>
                <td class="py-2">I will do 10 push-ups</td>
            </tr>
            <tr class="border-b">
                <td class="py-2">Mental Health</td>
                <td class="py-2">After I brush my teeth at night</td>
                <td class="py-2">I will write one thing I'm grateful for</td>
            </tr>
            <tr class="border-b">
                <td class="py-2">Finances</td>
                <td class="py-2">After I get paid</td>
                <td class="py-2">I will transfer 10% to savings</td>
            </tr>
        </tbody>
    </table>
    
    <h3 class="text-xl font-semibold mt-8 mb-4">The Habit Stacking Sequence: Building Habit Chains</h3>
    
    <p>Once you master basic habit stacking, you can create powerful chains of productive behaviors:</p>
    
    <div class="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg my-6">
        <h4 class="font-bold mb-2">Example: Morning Productivity Chain</h4>
        <ol class="list-decimal pl-6">
            <li><strong>After</strong> I wake up, I will make my bed</li>
            <li><strong>After</strong> I make my bed, I will drink a glass of water</li>
            <li><strong>After</strong> I drink water, I will do 5 minutes of stretching</li>
            <li><strong>After</strong> stretching, I will write in my journal for 5 minutes</li>
            <li><strong>After</strong> journaling, I will review my calendar for the day</li>
        </ol>
    </div>
    
    <div class="bg-red-50 dark:bg-red-900 p-4 rounded-lg my-6">
        <h4 class="font-bold">Important Warning</h4>
        <p>Start small with habit stacking. Don't try to change your entire day at once. Begin with one or two habit stacks until they become automatic, then gradually add more.</p>
    </div>
    
    <h3 class="text-xl font-semibold mt-8 mb-4">Keys to Successful Habit Stacking</h3>
    
    <ul class="list-disc pl-6 my-4">
        <li><strong>Choose the right trigger:</strong> The existing habit should be stable and occur at a frequency that matches your desired new habit</li>
        <li><strong>Keep it simple:</strong> The new habit should take less than 2 minutes when you're starting</li>
        <li><strong>Be specific:</strong> Clearly define exactly when and what you'll do</li>
        <li><strong>Design for success:</strong> Make the new habit so easy you can't fail</li>
    </ul>
    
    <h3 class="text-xl font-semibold mt-8 mb-4">Using Transition Moments as Habit Stacking Opportunities</h3>
    
    <p>Transitions between different environments or activities provide natural opportunities for habit stacking:</p>
    
    <div class="grid grid-cols-1 md:grid-cols-2 gap-6 my-6">
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
            <h4 class="font-bold mb-2">Location Transitions</h4>
            <ul class="list-disc pl-6">
                <li>Arriving home from work</li>
                <li>Entering or leaving specific rooms</li>
                <li>Getting in/out of your car</li>
            </ul>
        </div>
        <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg">
            <h4 class="font-bold mb-2">Activity Transitions</h4>
            <ul class="list-disc pl-6">
                <li>Before/after meals</li>
                <li>Starting/ending work</li>
                <li>Commercial breaks</li>
                <li>Before/after checking email</li>
            </ul>
        </div>
    </div>
    
    <!-- Interactive Component: Habit Stack Builder -->
    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg my-8" x-data="habitStackBuilder()">
        <h3 class="text-xl font-semibold mb-4">Interactive: Build Your Habit Stack</h3>
        
        <div class="mb-6">
            <p class="mb-4">Create your own habit stack by selecting triggers and new habits:</p>
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-4 mb-4">
                <div>
                    <label class="block mb-2 font-medium">Choose a trigger (existing habit):</label>
                    <select x-model="selectedTrigger" class="w-full p-2 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600">
                        <option value="">-- Select a trigger --</option>
                        <option value="After I wake up">After I wake up</option>
                        <option value="After I brush my teeth">After I brush my teeth</option>
                        <option value="After I shower">After I shower</option>
                        <option value="Before I leave home">Before I leave home</option>
                        <option value="When I arrive at work/school">When I arrive at work/school</option>
                        <option value="After lunch">After lunch</option>
                        <option value="When I get home">When I get home</option>
                        <option value="Before dinner">Before dinner</option>
                        <option value="After dinner">After dinner</option>
                        <option value="Before bed">Before bed</option>
                        <option value="custom">Custom trigger...</option>
                    </select>
                    
                    <div x-show="selectedTrigger === 'custom'" class="mt-2">
                        <label class="block mb-2 font-medium">Enter your custom trigger:</label>
                        <input type="text" x-model="customTrigger" placeholder="After I..." class="w-full p-2 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600">
                    </div>
                </div>
                
                <div>
                    <label class="block mb-2 font-medium">Choose a new habit to stack:</label>
                    <select x-model="selectedHabit" class="w-full p-2 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600">
                        <option value="">-- Select a habit --</option>
                        <option value="I will drink a glass of water">I will drink a glass of water</option>
                        <option value="I will do 5 push-ups">I will do 5 push-ups</option>
                        <option value="I will meditate for 1 minute">I will meditate for 1 minute</option>
                        <option value="I will write down three priorities">I will write down three priorities</option>
                        <option value="I will stretch for 2 minutes">I will stretch for 2 minutes</option>
                        <option value="I will read one page">I will read one page</option>
                        <option value="I will tidy one small area">I will tidy one small area</option>
                        <option value="I will write one sentence in my journal">I will write one sentence in my journal</option>
                        <option value="custom">Custom habit...</option>
                    </select>
                    
                    <div x-show="selectedHabit === 'custom'" class="mt-2">
                        <label class="block mb-2 font-medium">Enter your custom habit:</label>
                        <input type="text" x-model="customHabit" placeholder="I will..." class="w-full p-2 border border-gray-300 rounded dark:bg-gray-700 dark:border-gray-600">
                    </div>
                </div>
            </div>
            
            <button @click="addHabitStack" class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700" :disabled="!canAddStack">
                Add to My Habit Stack
            </button>
        </div>
        
        <div x-show="habitStacks.length > 0">
            <h4 class="font-bold mb-2">My Habit Stack:</h4>
            <div class="bg-white dark:bg-gray-700 p-4 rounded border border-gray-300 dark:border-gray-600">
                <template x-for="(stack, index) in habitStacks" :key="index">
                    <div class="flex items-center py-2 border-b border-gray-200 dark:border-gray-600 last:border-0">
                        <span x-text="`${index + 1}. ${stack}`" class="flex-grow"></span>
                        <button @click="removeStack(index)" class="ml-2 text-red-500 hover:text-red-700">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
                            </svg>
                        </button>
                    </div>
                </template>
            </div>
            
            <div class="mt-4">
                <p class="font-medium">Success Tips:</p>
                <ul class="list-disc pl-6 mt-2">
                    <li>Start with just 1-2 stacks until they become automatic</li>
                    <li>Keep each new habit small and achievable</li>
                    <li>Track your progress for at least 30 days</li>
                    <li>Celebrate small wins along the way</li>
                </ul>
            </div>
        </div>
    </div>
    
    <script>
        function habitStackBuilder() {
            return {
                selectedTrigger: '',
                customTrigger: '',
                selectedHabit: '',
                customHabit: '',
                habitStacks: [],
                
                get effectiveTrigger() {
                    return this.selectedTrigger === 'custom' ? this.customTrigger : this.selectedTrigger;
                },
                
                get effectiveHabit() {
                    return this.selectedHabit === 'custom' ? this.customHabit : this.selectedHabit;
                },
                
                get canAddStack() {
                    return this.effectiveTrigger && this.effectiveHabit;
                },
                
                addHabitStack() {
                    if (this.canAddStack) {
                        this.habitStacks.push(`${this.effectiveTrigger}, ${this.effectiveHabit}`);
                        
                        // Reset selections
                        this.selectedTrigger = '';
                        this.customTrigger = '';
                        this.selectedHabit = '';
                        this.customHabit = '';
                        
                        // Save to local storage
                        this.saveToLocalStorage();
                    }
                },
                
                removeStack(index) {
                    this.habitStacks.splice(index, 1);
                    this.saveToLocalStorage();
                },
                
                saveToLocalStorage() {
                    localStorage.setItem('habitStacks', JSON.stringify(this.habitStacks));
                },
                
                init() {
                    // Load from local storage
                    const savedStacks = localStorage.getItem('habitStacks');
                    if (savedStacks) {
                        try {
                            this.habitStacks = JSON.parse(savedStacks);
                        } catch (e) {
                            console.error('Error loading habit stacks', e);
                            this.habitStacks = [];
                        }
                    }
                }
            }
        }
    </script>
    
    <h3 class="text-xl font-semibold mt-8 mb-4">Troubleshooting Your Habit Stacks</h3>
    
    <div class="bg-gray-100 dark:bg-gray-800 p-4 rounded-lg my-6">
        <h4 class="font-bold mb-2">Common Issues and Solutions</h4>
        <table class="min-w-full">
            <thead>
                <tr class="border-b">
                    <th class="text-left py-2">Problem</th>
                    <th class="text-left py-2">Solution</th>
                </tr>
            </thead>
            <tbody>
                <tr class="border-b">
                    <td class="py-2">Forgetting to do the stack</td>
                    <td class="py-2">
                        <ul class="list-disc pl-6">
                            <li>Create visual reminders near the trigger location</li>
                            <li>Start with a more reliable trigger habit</li>
                        </ul>
                    </td>
                </tr>
                <tr class="border-b">
                    <td class="py-2">Stack feels too overwhelming</td>
                    <td class="py-2">
                        <ul class="list-disc pl-6">
                            <li>Reduce the size of the new habit (make it smaller)</li>
                            <li>Split into multiple stacks with different triggers</li>
                        </ul>
                    </td>
                </tr>
                <tr class="border-b">
                    <td class="py-2">Getting bored with the stack</td>
                    <td class="py-2">
                        <ul class="list-disc pl-6">
                            <li>Add a small element of variety</li>
                            <li>Increase the challenge gradually</li>
                            <li>Track progress to see accomplishments</li>
                        </ul>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-lg my-8">
        <h4 class="font-bold text-xl mb-4">Key Takeaways</h4>
        <ul class="list-disc pl-6">
            <li>Habit stacking leverages existing neural pathways to establish new habits more easily</li>
            <li>Use the formula: "After/Before [CURRENT HABIT], I will [NEW HABIT]"</li>
            <li>Start with one or two simple habit stacks before building more complex chains</li>
            <li>Choose triggers that occur at the same frequency as your desired new habit</li>
            <li>Transition moments in your day provide natural opportunities for habit stacks</li>
        </ul>
    </div>
    
    <p class="mt-8">In the next lesson, we'll explore how to use the 2-Minute Rule to make any habit so easy you can't say no.</p>
</div> 